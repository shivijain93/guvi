<!DOCTYPE html>
<html>
    <head>
      <title>AsyncAwait</title>
        <script>
		
			async function myAsyncFunction(){	
            var countries= await fetch("https://restcountries.eu/rest/v2/all");
			var countryData=await countries.json();
			console.log(countryData);
			
			
			const filteredItems = countryData.filter((item) => {
          return item.name=="India";
		  
        });
		
		var code=filteredItems[0].alpha2Code;
        var flag=filteredItems[0].flag;
        var name=filteredItems[0].capital;
        document.getElementById("flag").src=flag;
        document.getElementById("flag").style.width="200px"
		
		
        var url="http://api.openweathermap.org/data/2.5/weather?q="+ name + "&appid=23a4dc784366c81122de0f289a496803"
        var weather= await fetch(url);
		var weatherData= await weather.json();
		console.log(weatherData);
		var min=Number(JSON.stringify(weatherData.main.temp_min))
            var max=Number(JSON.stringify(weatherData.main.temp_max))
			var h=Number(JSON.stringify(weatherData.main.humidity))
            var p=Number(JSON.stringify(weatherData.main.pressure))
			document.getElementById("weather").innerHTML+= "City:" + weatherData.name + "<br>"
            document.getElementById("weather").innerHTML+= "Minimum Temp:" + k(min) + "C" + "<br>"
            document.getElementById("weather").innerHTML+= "Maximum Temp:" + k(max) + "C" + "<br>"
			 document.getElementById("weather").innerHTML+= "Humidity:" + h +  "<br>"
            document.getElementById("weather").innerHTML+= "Pressure:" + p 
			
		}
		myAsyncFunction();
		
		function k(kelvin)
    {
        return (kelvin-273).toFixed(2);
    }
	
			
			</script>
		</head>
		<body>
	

<div id="country" align="Center">
<img id="flag" ></img><br>
<p id="weather" ></p>
    
</div>
    </body> 
	
	
	</script>
	</head>
	</html> 